<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>NEXUS Key Generator</title>
    <link rel="stylesheet" href="./src/style.css">
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <div class="logo">
                    <div class="logo-text">
                        <span class="logo-primary">NEXUS</span>
                    </div>
                </div>
                <h1>Key Generator</h1>
                <p class="subtitle">Connecting the world through blockchain</p>
            </div>
            
            <div class="form-section">
                <div class="input-group">
                    <label for="password">비밀번호:</label>
                    <input type="password" id="password" placeholder="키스토어 비밀번호를 입력하세요">
                    <small class="password-requirements">
                        <strong>비밀번호 요구사항:</strong><br>
                        • 최소 8자 이상<br>
                        • 대문자 1개 이상<br>
                        • 소문자 1개 이상<br>
                        • 숫자 1개 이상<br>
                        • 특수문자 1개 이상 (!@#$%^&* 등)
                    </small>
                </div>
                
                <div class="input-group">
                    <label for="confirmPassword">비밀번호 확인:</label>
                    <input type="password" id="confirmPassword" placeholder="비밀번호를 다시 입력하세요">
                    <small id="passwordMatch" class="password-match"></small>
                </div>
                
                <div class="input-group">
                    <label for="shareCount">공유 키 설정:</label>
                    <div class="share-config">
                        <div class="share-config-item">
                            <label for="totalShares">총 개수:</label>
                            <input type="number" id="totalShares" value="1" min="1" max="10">
                        </div>
                        <div class="share-config-item">
                            <label for="threshold">복구에 필요한 최소 개수:</label>
                            <input type="number" id="threshold" value="2" min="1" max="10">
                        </div>
                    </div>
                    <small>1 = 일반 키스토어, 2 이상 = 공유 키</small>
                </div>
                
                <button id="generateBtn" class="generate-btn" disabled>키 생성</button>
            </div>
            
            <div class="results-section" id="resultsSection" style="display: none;">
                <h2>생성된 키 정보</h2>
                
                <div class="result-tabs">
                    <button class="tab-btn active" data-tab="keystore">키스토어</button>
                    <button class="tab-btn" data-tab="publicKey">공개키</button>
                    <button class="tab-btn" data-tab="privateKey">개인키</button>
                    <button class="tab-btn" data-tab="address">주소</button>
                    <button class="tab-btn" data-tab="shares" id="sharesTab" style="display: none;">샤미르 쉐어</button>
                </div>
                
                <div class="tab-content">
                    <div id="keystore" class="tab-pane active">
                        <pre id="keystoreContent"></pre>
                    </div>
                    <div id="publicKey" class="tab-pane">
                        <pre id="publicKeyContent"></pre>
                    </div>
                    <div id="privateKey" class="tab-pane">
                        <div class="private-key-warning">
                            <div class="warning-icon">⚠️</div>
                            <h3>개인키 노출 경고</h3>
                            <div class="warning-content">
                                <p><strong>개인키는 귀하의 모든 자산에 대한 완전한 접근 권한을 제공합니다.</strong></p>
                                <ul>
                                    <li>개인키가 노출되면 모든 자산이 도난당할 수 있습니다</li>
                                    <li>해킹, 악성코드, 피싱 공격에 취약해집니다</li>
                                    <li>NEXUS는 개인키 노출로 인한 손실에 책임을 지지 않습니다</li>
                                    <li>안전한 환경에서만 개인키를 확인하세요</li>
                                </ul>
                            </div>
                            <button id="revealPrivateKeyBtn" class="reveal-private-key-btn">개인키 노출</button>
                        </div>
                        <div id="privateKeyContent" class="private-key-content" style="display: none;">
                            <pre id="privateKeyText"></pre>
                            <div class="private-key-actions">
                                <button id="copyPrivateKeyBtn" class="copy-btn" disabled>복사</button>
                                <button id="downloadPrivateKeyBtn" class="download-btn" disabled>다운로드</button>
                            </div>
                        </div>
                    </div>
                    <div id="address" class="tab-pane">
                        <pre id="addressContent"></pre>
                    </div>
                    <div id="shares" class="tab-pane">
                        <div class="share-download-section">
                            <h3>공유 키 다운로드</h3>
                            <div class="recovered-address-section">
                                <h4>복구된 지갑 주소:</h4>
                                <div id="recoveredAddress" class="recovered-address"></div>
                                <small class="recovered-address-note">※ 모든 공유 키를 combine하여 복구된 주소입니다. 원본 주소와 일치해야 합니다.</small>
                            </div>
                            <p class="share-info">각 공유 키는 개별적으로 암호화된 keystore 형태로 다운로드됩니다. 각 공유 키마다 다른 비밀번호를 설정하는 것을 권장합니다.</p>
                            
                            <div class="share-list">
                                <h4>생성된 공유 키 목록:</h4>
                                <div id="shareList" class="share-list-content"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="copyBtn" class="copy-btn">복사</button>
                    <button id="downloadBtn" class="download-btn">다운로드</button>
                </div>
            </div>
            
            <div class="footer">
                <p>Powered by <span class="brand">NEXUS</span> • Connecting the world through blockchain</p>
            </div>
        </div>
    </div>
    <script src="./src/main.js" type="module"></script>
</body>
</html>
